<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Lydia English</title>
    <link>/post/</link>
    <description>Recent content in Posts on Lydia English</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2020</copyright>
    
	    <atom:link href="/post/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Many models, same data</title>
      <link>/2020/04/22/many-models/</link>
      <pubDate>Wed, 22 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/04/22/many-models/</guid>
      <description>


&lt;p&gt;This post explores the often agonizing decision-making process behind model selection. We will be using a real-life example, meaning this is an actual decision process that Gina Nichols and I waded through. The hope is that others who may struggle with the same sorts of basic stats decisions can take solace in our process.&lt;/p&gt;
&lt;p&gt;We’re using data from &lt;a href=&#34;/project/pfiweeds/&#34;&gt;this project&lt;/a&gt;. In very breif terms we’re interested in the effect of cover crops on the weed seedbank. The data can be accessed from Gina Nichol’s Github repository like so:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;remotes::install_github(&#34;vanichols/PFIweeds2020&#34;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The raw data are in &lt;code&gt;pfi_ghobsraw&lt;/code&gt;. These are observations from soil which we incubating in a greenhouse to grow weeds. We don’t need to clean the data very much, but we will do a couple steps to consolidate observations.&lt;/p&gt;
&lt;p&gt;A couple other notes on the experimental layout:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;There are four &lt;code&gt;site_sys&lt;/code&gt;, which encompass three different farms and two different cropping systems&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Boyd Grain&lt;/li&gt;
&lt;li&gt;Boyd Silage&lt;/li&gt;
&lt;li&gt;Funcke Grain&lt;/li&gt;
&lt;li&gt;Stout Grain&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;FYI: Grain systems employ a two year rotation of corn and soybeans and sell both crops off as feed grain, ethanol grain, etc. The silage system also has a 2 year rotation of corn and soybeans, but in the corn year the crop is harvested earlier (while it’s still green) and sold as silage (fermented cattle feed)&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There are two cover crop treatments (&lt;code&gt;cc_trt&lt;/code&gt;): &lt;code&gt;none&lt;/code&gt; and &lt;code&gt;cc_rye&lt;/code&gt; (rye)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There are 4-5 blocks per treatment, which will our random effect.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(PFIweeds2020)
data(&amp;quot;pfi_ghobsraw&amp;quot;)

# Quick data cleaning
dat &amp;lt;- 
  pfi_ghobsraw %&amp;gt;% 
  dplyr::mutate_if(is.numeric, tidyr::replace_na, 0) %&amp;gt;%
  dplyr::group_by(site_name, field, sys_trt, cc_trt, rep, blockID) %&amp;gt;%
  dplyr::summarise_if(is.numeric, sum) %&amp;gt;%
  dplyr::ungroup() %&amp;gt;%
# Sum all seeds by species  
  dplyr::mutate(totseeds = rowSums(.[, 7:24])) %&amp;gt;%
  tidyr::unite(site_name, sys_trt, col = &amp;quot;site_sys&amp;quot;, remove = T) %&amp;gt;% 
  select(-field, -rep, -c(AMATU:UB)) %&amp;gt;%
  mutate(cc_trt = recode(cc_trt,         
                          no = &amp;quot;none&amp;quot;,
                          rye = &amp;quot;cc_rye&amp;quot;))
head(dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 4
##   site_sys   cc_trt blockID totseeds
##   &amp;lt;chr&amp;gt;      &amp;lt;chr&amp;gt;  &amp;lt;chr&amp;gt;      &amp;lt;dbl&amp;gt;
## 1 Boyd_grain none   B42_1         34
## 2 Boyd_grain none   B42_2         12
## 3 Boyd_grain none   B42_3          9
## 4 Boyd_grain none   B42_4          7
## 5 Boyd_grain none   B42_5         17
## 6 Boyd_grain cc_rye B42_1        116&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We are interested in &lt;code&gt;totseeds&lt;/code&gt; (total seeds) as a response variable, which is an integer value. In all of our mixed models our fixed effects are &lt;code&gt;site_sys&lt;/code&gt; and &lt;code&gt;cc_trt&lt;/code&gt; and our random effect is &lt;code&gt;blockID&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;But before we get to modeling, let’s just quickly look at the data and see what we are working with.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;
There is one point that is much higher than the rest, in the &lt;code&gt;Funcke_grain&lt;/code&gt; cover crop treatment, which may be a little cause for concern…we’re going to make another dataset without it.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat2 &amp;lt;- dat %&amp;gt;%
  filter(totseeds &amp;lt; 700)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s also plot the distribution of totseeds. It is pretty skewed. If we log-tranform the raw data we get a much nicer distribution and our large values are much less far apart than are small values.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Ok now it’s time to start fitting out models. Given the graphs above, our first thought was to run a lmer with a log-transformed response.&lt;/p&gt;
&lt;p&gt;(Here we are also examining whether there is any interaction between &lt;code&gt;site_sys&lt;/code&gt; and &lt;code&gt;cc_trt&lt;/code&gt;, and looks like there is.)&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m1 &amp;lt;- lmer(log(totseeds) ~ site_sys * cc_trt + (1|blockID), data = dat2)
m2 &amp;lt;- lmer(log(totseeds) ~ site_sys + cc_trt + (1|blockID), data = dat2)

anova(m1, m2) # keep interaction&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## refitting model(s) with ML (instead of REML)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Data: dat2
## Models:
## m2: log(totseeds) ~ site_sys + cc_trt + (1 | blockID)
## m1: log(totseeds) ~ site_sys * cc_trt + (1 | blockID)
##    npar    AIC    BIC  logLik deviance  Chisq Df Pr(&amp;gt;Chisq)  
## m2    7 117.40 130.04 -51.698  103.397                       
## m1   10 115.13 133.20 -47.566   95.132 8.2643  3    0.04085 *
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Before we dive into the summary values and statistical reporting lets check out our diagnostic plots:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;resid_panel(m1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This doesn’t look bad, but perhaps it could look better…&lt;/p&gt;
&lt;p&gt;To stick within the normal-distribution framework we could also try another transformation. The square-root transformation can also work for count data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat %&amp;gt;%
  ggplot(aes(sqrt(totseeds)))+
  geom_histogram(binwidth = 1, fill = &amp;quot;white&amp;quot;, color = &amp;quot;black&amp;quot;)+
  ggtitle(&amp;quot;Sqrt-transformed Data&amp;quot;)+
  theme(plot.title.position = &amp;quot;plot&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The data still look a little skewed, but that’s ok…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;m1b &amp;lt;- lmer(sqrt(totseeds) ~ site_sys * cc_trt + (1|blockID), dat2)
resid_panel(m1b)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;These diagnostic plots look pretty similar, although the square root transformation might be a little better…&lt;/p&gt;
&lt;p&gt;Since we are working with count data, however, we have other options in the generalized linear model catagory. The natural first option is a Poisson distribution with a log link function&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;p1a &amp;lt;- glmer(totseeds ~ site_sys*cc_trt + (1|blockID), data = dat2, 
            family = poisson(link = &amp;quot;log&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This model converged, awesome! But we should always check for overdispersion our Poisson models, which is when the variance &amp;gt;&amp;gt; mean. We are using the &lt;a href=&#34;https://easystats.github.io/performance/&#34;&gt;performance&lt;/a&gt; package for this since it makes checking for overdispersion really easy.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;performance::check_overdispersion(p1a) # overdispersion!&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # Overdispersion test
## 
##        dispersion ratio =   8.001
##   Pearson&amp;#39;s Chi-Squared = 288.047
##                 p-value = &amp;lt; 0.001&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Overdispersion detected.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Argh, it’s overdispered.&lt;/p&gt;
&lt;p&gt;Now we have two options if we want to continue down the glmer path. We could:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Add an observation-level random effect to our Poisson model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Switch to a negative binomial model&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Let’s start with option 1 and add an oberservation-level random effect.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;dat2 &amp;lt;- 
  dat2 %&amp;gt;%
  mutate(obs_id = paste(&amp;quot;obs&amp;quot;, 1:45, sep = &amp;quot;_&amp;quot;))

p1b &amp;lt;- glmer(totseeds ~ site_sys*cc_trt + (1|blockID) + (1|obs_id), data = dat2, 
            family = poisson(link = &amp;quot;log&amp;quot;))  
performance::check_overdispersion(p1b)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # Overdispersion test
## 
##        dispersion ratio = 0.145
##   Pearson&amp;#39;s Chi-Squared = 5.065
##                 p-value =     1&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## No overdispersion detected.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Adding our observation-level random effect fixed out overdispersion problem. Great! Let’s look at the diagnostic plots now:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;resid_panel(p1b) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-12-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;What we’re really interested in here is the first plot, the Residual Plot. Since normality isn’t an assumption of generalized linear models, we don’t need to worry about irregularies in the Q-Q plot. The model fits the data really well as the obserations get larger, but there is a lot more variance in the residuals in our smaller values. This gives us a little pause…&lt;/p&gt;
&lt;p&gt;Let’s also try option 2 and fit the data to a negative-binomial model&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# option 2, negative binomial....
g1a &amp;lt;- glmer.nb(totseeds ~ site_sys*cc_trt + (1|blockID), data = dat2)

resid_panel(g1a)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-13-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(g1a)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Generalized linear mixed model fit by maximum likelihood (Laplace
##   Approximation) [glmerMod]
##  Family: Negative Binomial(3.7588)  ( log )
## Formula: totseeds ~ site_sys * cc_trt + (1 | blockID)
##    Data: dat2
## 
##      AIC      BIC   logLik deviance df.resid 
##    445.4    463.5   -212.7    425.4       35 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.2879 -0.6244 -0.1260  0.4711  2.0199 
## 
## Random effects:
##  Groups  Name        Variance Std.Dev.
##  blockID (Intercept) 0.179    0.4231  
## Number of obs: 45, groups:  blockID, 18
## 
## Fixed effects:
##                                 Estimate Std. Error z value Pr(&amp;gt;|z|)    
## (Intercept)                      3.43950    0.22667  15.174  &amp;lt; 2e-16 ***
## site_sysBoyd_silage             -0.01624    0.32432  -0.050  0.96005    
## site_sysFuncke_grain             1.88043    0.44272   4.247 2.16e-05 ***
## site_sysStout_grain             -0.45557    0.42093  -1.082  0.27912    
## cc_trtnone                      -0.32847    0.25796  -1.273  0.20290    
## site_sysBoyd_silage:cc_trtnone   1.35345    0.43192   3.134  0.00173 ** 
## site_sysFuncke_grain:cc_trtnone  1.03593    0.48511   2.135  0.03273 *  
## site_sysStout_grain:cc_trtnone   0.77414    0.47305   1.636  0.10174    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) st_sB_ st_sF_ st_sS_ cc_trt s_B_:_ s_F_:_
## st_sysByd_s -0.464                                          
## st_sysFnck_ -0.513  0.237                                   
## st_sysStt_g -0.518  0.249  0.265                            
## cc_trtnone  -0.574  0.445  0.295  0.298                     
## st_sysBy_:_  0.344 -0.694 -0.176 -0.180 -0.609              
## st_sysFn_:_  0.307 -0.237 -0.625 -0.158 -0.533  0.324       
## st_sysSt_:_  0.316 -0.243 -0.162 -0.564 -0.547  0.333  0.292&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# now with the outlier - unpsurprisingly Funcke isn&amp;#39;t sig anymore
g1b &amp;lt;- glmer.nb(totseeds ~ site_sys*cc_trt + (1|blockID), data = dat)

resid_panel(g1b)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;/post/weed_model_selection/index_files/figure-html/unnamed-chunk-13-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;summary(g1b)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Generalized linear mixed model fit by maximum likelihood (Laplace
##   Approximation) [glmerMod]
##  Family: Negative Binomial(3.5535)  ( log )
## Formula: totseeds ~ site_sys * cc_trt + (1 | blockID)
##    Data: dat
## 
##      AIC      BIC   logLik deviance df.resid 
##    464.0    482.2   -222.0    444.0       36 
## 
## Scaled residuals: 
##     Min      1Q  Median      3Q     Max 
## -1.2552 -0.6903 -0.1392  0.4758  1.9132 
## 
## Random effects:
##  Groups  Name        Variance Std.Dev.
##  blockID (Intercept) 0.2049   0.4526  
## Number of obs: 46, groups:  blockID, 18
## 
## Fixed effects:
##                                 Estimate Std. Error z value Pr(&amp;gt;|z|)    
## (Intercept)                       3.4343     0.2356  14.575  &amp;lt; 2e-16 ***
## site_sysBoyd_silage              -0.0162     0.3336  -0.049  0.96128    
## site_sysFuncke_grain              2.3250     0.4259   5.459  4.8e-08 ***
## site_sysStout_grain              -0.4587     0.4384  -1.046  0.29547    
## cc_trtnone                       -0.3255     0.2648  -1.229  0.21901    
## site_sysBoyd_silage:cc_trtnone    1.3514     0.4437   3.046  0.00232 ** 
## site_sysFuncke_grain:cc_trtnone   0.6034     0.4690   1.286  0.19828    
## site_sysStout_grain:cc_trtnone    0.7706     0.4854   1.587  0.11242    
## ---
## Signif. codes:  0 &amp;#39;***&amp;#39; 0.001 &amp;#39;**&amp;#39; 0.01 &amp;#39;*&amp;#39; 0.05 &amp;#39;.&amp;#39; 0.1 &amp;#39; &amp;#39; 1
## 
## Correlation of Fixed Effects:
##             (Intr) st_sB_ st_sF_ st_sS_ cc_trt s_B_:_ s_F_:_
## st_sysByd_s -0.458                                          
## st_sysFnck_ -0.543  0.253                                   
## st_sysStt_g -0.521  0.246  0.291                            
## cc_trtnone  -0.566  0.447  0.307  0.295                     
## st_sysBy_:_  0.339 -0.693 -0.185 -0.178 -0.609              
## st_sysFn_:_  0.308 -0.252 -0.559 -0.169 -0.559  0.341       
## st_sysSt_:_  0.311 -0.244 -0.168 -0.557 -0.547  0.333  0.304&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This has a similar problem to the Poisson model, our residuals don’t have equal variance across our predicted values…&lt;/p&gt;
&lt;p&gt;Looks like we are back to our transformations of the response variable and usually regular linear mixed effects model.&lt;/p&gt;
&lt;p&gt;Our decision boils down to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The square root transformation has slightly better diagnostic plots, but is harder to interpret.&lt;/li&gt;
&lt;li&gt;The log transformation has slightly worse diagnostic plots, but means and contrasts can be readily interpretable and back-transformed to the original scale.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If one is more interested in the effect sizes among treatments then it make sense to use the log-transformation so that those effect sizes can be interpretted in a meaningful way. On the other hand, if effect sizes aren’t super important that square root transformation seems like a better option.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Making tables with the R package gt</title>
      <link>/2020/04/13/gt-tables/</link>
      <pubDate>Mon, 13 Apr 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/04/13/gt-tables/</guid>
      <description>


&lt;p&gt;Overall notes about the R package &lt;code&gt;gt&lt;/code&gt;: I like it! I’m still learning the syntax but it seems intuitive and user-friendly. Would recommend.&lt;/p&gt;
&lt;p&gt;It’s worth noting at the beginning of this post that the tables are rendered a little differently via blogdown than they would be if they were just knit into an html file. Therefore, &lt;strong&gt;please don’t view this page in dark mode&lt;/strong&gt;…you won’t be able see half the table rows. After sleuthing through the &lt;code&gt;gt&lt;/code&gt; github, I believe this problem should be fixed with the next release on CRAN.&lt;/p&gt;
&lt;div id=&#34;preamble&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Preamble&lt;/h4&gt;
&lt;p&gt;Making tables in R is something I’ve dabbled lightly in but never really committed to. The story usually goes: I have some data to present in a table…I try making table in R…I successfully make a table but I can’t figure out how to format it exactly to my liking…I get frustrated…I abandon my R table and go to Microsoft word.&lt;/p&gt;
&lt;p&gt;I have no beef with the other R packages intended for table making, and I’m sure with more finesse they could give me what I’m looking for. However, I’m excited to try out &lt;code&gt;gt&lt;/code&gt; because it is &lt;a href=&#34;https://gt.rstudio.com/&#34;&gt;“the grammar of tables”&lt;/a&gt; and was designed to mirror the layered style of creating &lt;code&gt;ggplot2&lt;/code&gt; figures.&lt;/p&gt;
&lt;p&gt;I used this self-imposed table-making opportunity to play around with gathering data from the USDA’s National Agricultural Statistics Service (NASS). I used their &lt;a href=&#34;https://quickstats.nass.usda.gov/&#34;&gt;quickstats&lt;/a&gt; page. It took me a couple tries to get the sort of data I was looking for (there are a LOT of options to click through). I decided to look at chemical use on corn acres, as well as some other basic corn stats for Iowa. We do grow a lot of corn here (and no, it’s not sweet corn). If you want to see the raw data, you can find it on &lt;a href=&#34;https://github.com/lydiaPenglish/lydiaPenglish.github.io/tree/master/content/post/gt_tables&#34;&gt;my github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;(NB: There were gaps where data were available so I picked time points roughly 4-5 years apart)&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;tables&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Tables&lt;/h4&gt;
&lt;p&gt;First things first, I had to do a little data cleaning to get rid of some unwanted text and columns in the data-frame.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;chem_apps &amp;lt;- 
  read_csv(&amp;quot;chem_data.csv&amp;quot;) %&amp;gt;%
  mutate(param    = str_remove_all(`Data Item`, 
                                    &amp;quot;CORN - APPLICATIONS, MEASURED IN &amp;quot;),
         app_type = str_remove_all(Domain,
                                   &amp;quot;CHEMICAL, &amp;quot;),
         name     = str_extract(`Domain Category`,
                                   &amp;quot;(?&amp;lt;=\\().+(?=\\))&amp;quot;),
         Value    = str_replace_all(Value, &amp;quot;\\(D\\)&amp;quot;, &amp;quot;NA&amp;quot;),
         Value    = str_remove_all(Value, &amp;quot;\\,&amp;quot;),
         Value    = as.numeric(Value)) %&amp;gt;%
  select(Year, param, app_type, name, Value)
head(chem_apps)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 6 x 5
##    Year param app_type  name                             Value
##   &amp;lt;dbl&amp;gt; &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;                            &amp;lt;dbl&amp;gt;
## 1  2018 LB    HERBICIDE 2,4-D, 2-EHE = 30063                NA
## 2  2018 LB    HERBICIDE 2,4-D, DIMETH. SALT = 30019         NA
## 3  2018 LB    HERBICIDE 2,4-DB, DIMETH. SALT = 30819        NA
## 4  2018 LB    HERBICIDE ACETOCHLOR = 121601            8823000
## 5  2018 LB    HERBICIDE ATRAZINE = 80803               6621000
## 6  2018 LB    HERBICIDE BAPMA SALT OF DICAMBA = 100094      NA&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next step: build a basic table with &lt;code&gt;gt&lt;/code&gt;. Here I’ve filtered my data-frame and rearranged it slightly (&lt;code&gt;pivot_wider&lt;/code&gt;!!) and then I’ve gone right into using &lt;code&gt;gt&lt;/code&gt;by using pipe operators. It’s quite easy to add a title and subtitle, as well as a source note. It’s also easy to use Markdown formatting by putting your title within the &lt;code&gt;md()&lt;/code&gt; function. I appreciate that you can format the numbers to have commas so they are easier to read. Since I kept everything in pounds, these numbers are quite large. Iowa uses a lot of herbicide and fertilizer on a yearly basis!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_v1 &amp;lt;- 
  chem_apps %&amp;gt;%
# Get data just on total chemical usage
  filter(name == &amp;quot;TOTAL&amp;quot; | name == &amp;quot;NITROGEN&amp;quot; &amp;amp; param == &amp;quot;LB&amp;quot;) %&amp;gt;%
# convert into a wider dataframe that is more table-ready  
  pivot_wider(id_cols = c(Year, Value), 
              names_from = app_type, 
              values_from = Value) %&amp;gt;%
# now add in gt 
  gt() %&amp;gt;%
# Title
  tab_header(title    = md(&amp;quot;**Chemical Use on Cornfields in Iowa**&amp;quot;), 
             subtitle = &amp;quot;Total pounds of applied herbicide and fertilizer&amp;quot;) %&amp;gt;%
# Source note  
  tab_source_note(source_note = &amp;quot;Source: USDA NASS&amp;quot;) %&amp;gt;%
# Format numbers to have commas   
  fmt_number(columns = vars(HERBICIDE,FERTILIZER), 
             use_seps = TRUE,
             decimals = 0) %&amp;gt;%
# this should remove row striping but it doesn&amp;#39;t work when using blogdown to render scripts  
  opt_row_striping(row_striping = FALSE)
tab_v1&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#rdzmevogzs .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#rdzmevogzs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rdzmevogzs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#rdzmevogzs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#rdzmevogzs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rdzmevogzs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#rdzmevogzs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#rdzmevogzs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#rdzmevogzs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#rdzmevogzs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#rdzmevogzs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#rdzmevogzs .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#rdzmevogzs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#rdzmevogzs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#rdzmevogzs .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#rdzmevogzs .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#rdzmevogzs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#rdzmevogzs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#rdzmevogzs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rdzmevogzs .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#rdzmevogzs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#rdzmevogzs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#rdzmevogzs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#rdzmevogzs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rdzmevogzs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#rdzmevogzs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#rdzmevogzs .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#rdzmevogzs .gt_left {
  text-align: left;
}

#rdzmevogzs .gt_center {
  text-align: center;
}

#rdzmevogzs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#rdzmevogzs .gt_font_normal {
  font-weight: normal;
}

#rdzmevogzs .gt_font_bold {
  font-weight: bold;
}

#rdzmevogzs .gt_font_italic {
  font-style: italic;
}

#rdzmevogzs .gt_super {
  font-size: 65%;
}

#rdzmevogzs .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;rdzmevogzs&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;3&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;&lt;strong&gt;Chemical Use on Cornfields in Iowa&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;3&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Total pounds of applied herbicide and fertilizer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Year&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;HERBICIDE&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;FERTILIZER&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2018&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;32,371,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,784,300,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2014&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;30,240,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,842,200,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2010&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;26,195,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,806,600,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2005&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;24,726,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,653,200,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;24,518,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,533,000,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1995&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;32,957,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,364,600,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1990&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;NA&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,561,000,000&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;3&#34;&gt;Source: USDA NASS&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  
&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;Let’s add a footnote because this table doesn’t include all types of fertilizer.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tab_v1 %&amp;gt;%
  tab_footnote(footnote = md(&amp;quot;Nitrogen Fertilizer *only*&amp;quot;),
               locations = cells_column_labels(&amp;quot;FERTILIZER&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#lrpvpdekdx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#lrpvpdekdx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lrpvpdekdx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lrpvpdekdx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lrpvpdekdx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lrpvpdekdx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#lrpvpdekdx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#lrpvpdekdx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#lrpvpdekdx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#lrpvpdekdx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#lrpvpdekdx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#lrpvpdekdx .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#lrpvpdekdx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#lrpvpdekdx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#lrpvpdekdx .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#lrpvpdekdx .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#lrpvpdekdx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#lrpvpdekdx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#lrpvpdekdx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lrpvpdekdx .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#lrpvpdekdx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#lrpvpdekdx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#lrpvpdekdx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#lrpvpdekdx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lrpvpdekdx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#lrpvpdekdx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#lrpvpdekdx .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#lrpvpdekdx .gt_left {
  text-align: left;
}

#lrpvpdekdx .gt_center {
  text-align: center;
}

#lrpvpdekdx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lrpvpdekdx .gt_font_normal {
  font-weight: normal;
}

#lrpvpdekdx .gt_font_bold {
  font-weight: bold;
}

#lrpvpdekdx .gt_font_italic {
  font-style: italic;
}

#lrpvpdekdx .gt_super {
  font-size: 65%;
}

#lrpvpdekdx .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;lrpvpdekdx&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;3&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;&lt;strong&gt;Chemical Use on Cornfields in Iowa&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;3&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Total pounds of applied herbicide and fertilizer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Year&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;HERBICIDE&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;FERTILIZER&lt;sup class=&#34;gt_footnote_marks&#34;&gt;1&lt;/sup&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2018&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;32,371,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,784,300,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2014&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;30,240,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,842,200,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2010&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;26,195,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,806,600,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2005&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;24,726,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,653,200,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;24,518,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,533,000,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1995&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;32,957,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,364,600,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1990&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;NA&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,561,000,000&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;3&#34;&gt;Source: USDA NASS&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  &lt;tfoot&gt;
    &lt;tr class=&#34;gt_footnotes&#34;&gt;
      &lt;td colspan=&#34;3&#34;&gt;
        &lt;p class=&#34;gt_footnote&#34;&gt;
          &lt;sup class=&#34;gt_footnote_marks&#34;&gt;
            &lt;em&gt;1&lt;/em&gt;
          &lt;/sup&gt;
           
          Nitrogen Fertilizer &lt;em&gt;only&lt;/em&gt;
          &lt;br /&gt;
        &lt;/p&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;Let’s just look at the values in this table for a moment: it doesn’t look like total herbicide or fertilizer use has changed all that much from the 1990s to the near present. OK! Perhaps we should examine certain chemicals instead of total chemical use to make this table more interesting. The first part of this chunk is a different subset of the data and the second part of the chunk is where I made it into a table.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;chem_subset &amp;lt;- 
  chem_apps %&amp;gt;%
# filtering for specific herbicides and fertilizer  
  filter(str_detect(name, &amp;quot;^DICAMBA&amp;quot;)|str_detect(name, &amp;quot;^GLYPHOSATE&amp;quot;)|name == &amp;quot;NITROGEN&amp;quot;|name == &amp;quot;PHOSPHATE&amp;quot;) %&amp;gt;%
  filter(param == &amp;quot;LB&amp;quot;) %&amp;gt;%
# again, making into a wider format  
  pivot_wider(id_cols = Year, 
              names_from = name, 
              values_from = Value) %&amp;gt;%
# getting totals for formulations  
  mutate(DICAMBA    = rowSums(select(., starts_with(&amp;quot;DICAMBA&amp;quot;)), na.rm = TRUE),
         GLYPHOSATE = rowSums(select(., starts_with(&amp;quot;GLYPHOSATE&amp;quot;)), na.rm = TRUE)) 

# Table time! 
chem_subset %&amp;gt;%
  select(Year, NITROGEN, PHOSPHATE, DICAMBA, GLYPHOSATE) %&amp;gt;%
  gt(rowname_col = &amp;quot;Year&amp;quot;) %&amp;gt;%
  tab_header(title    = md(&amp;quot;**Chemical Use on Cornfields in Iowa**&amp;quot;), 
             subtitle = &amp;quot;Total pounds of applied herbicide and fertilizer&amp;quot;)%&amp;gt;%
  tab_stubhead(label = &amp;quot;Year&amp;quot;) %&amp;gt;%
  tab_spanner(label = &amp;quot;Fertilizer&amp;quot;, columns = c(&amp;quot;NITROGEN&amp;quot;, &amp;quot;PHOSPHATE&amp;quot;)) %&amp;gt;%
  tab_spanner(label = &amp;quot;Herbicide&amp;quot;, columns = c(&amp;quot;DICAMBA&amp;quot;, &amp;quot;GLYPHOSATE&amp;quot;)) %&amp;gt;%
  fmt_number(columns = everything(), 
             use_seps = TRUE,
             decimals = 0) %&amp;gt;%
  tab_footnote(footnote = &amp;quot;Includes all formulations with the active ingredient&amp;quot;,
               locations = cells_column_labels(c(&amp;quot;DICAMBA&amp;quot;, &amp;quot;GLYPHOSATE&amp;quot;))) %&amp;gt;%
  tab_source_note(source_note = &amp;quot;Source: USDA NASS&amp;quot;) %&amp;gt;%
  opt_row_striping(row_striping = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#woloogwzhb .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#woloogwzhb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#woloogwzhb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#woloogwzhb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#woloogwzhb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#woloogwzhb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#woloogwzhb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#woloogwzhb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#woloogwzhb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#woloogwzhb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#woloogwzhb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#woloogwzhb .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#woloogwzhb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#woloogwzhb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#woloogwzhb .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#woloogwzhb .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#woloogwzhb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#woloogwzhb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#woloogwzhb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#woloogwzhb .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#woloogwzhb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#woloogwzhb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#woloogwzhb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#woloogwzhb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#woloogwzhb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#woloogwzhb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#woloogwzhb .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#woloogwzhb .gt_left {
  text-align: left;
}

#woloogwzhb .gt_center {
  text-align: center;
}

#woloogwzhb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#woloogwzhb .gt_font_normal {
  font-weight: normal;
}

#woloogwzhb .gt_font_bold {
  font-weight: bold;
}

#woloogwzhb .gt_font_italic {
  font-style: italic;
}

#woloogwzhb .gt_super {
  font-size: 65%;
}

#woloogwzhb .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;woloogwzhb&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;5&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;&lt;strong&gt;Chemical Use on Cornfields in Iowa&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;5&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Total pounds of applied herbicide and fertilizer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;2&#34; colspan=&#34;1&#34;&gt;Year&lt;/th&gt;
      &lt;th class=&#34;gt_center gt_columns_top_border gt_column_spanner_outer&#34; rowspan=&#34;1&#34; colspan=&#34;2&#34;&gt;
        &lt;span class=&#34;gt_column_spanner&#34;&gt;Fertilizer&lt;/span&gt;
      &lt;/th&gt;
      &lt;th class=&#34;gt_center gt_columns_top_border gt_column_spanner_outer&#34; rowspan=&#34;1&#34; colspan=&#34;2&#34;&gt;
        &lt;span class=&#34;gt_column_spanner&#34;&gt;Herbicide&lt;/span&gt;
      &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;NITROGEN&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;PHOSPHATE&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;DICAMBA&lt;sup class=&#34;gt_footnote_marks&#34;&gt;1&lt;/sup&gt;&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;GLYPHOSATE&lt;sup class=&#34;gt_footnote_marks&#34;&gt;1&lt;/sup&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2018&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,784,300,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;698,200,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;323,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;9,759,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2014&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,842,200,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;600,500,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;91,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;10,047,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2010&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,806,600,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;620,300,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;11,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;9,390,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2005&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,653,200,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;579,000,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;164,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2,230,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,533,000,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;503,200,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;988,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;479,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1995&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,364,600,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;534,500,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,373,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;158,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1990&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,561,000,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;609,000,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;833,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;5&#34;&gt;Source: USDA NASS&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  &lt;tfoot&gt;
    &lt;tr class=&#34;gt_footnotes&#34;&gt;
      &lt;td colspan=&#34;5&#34;&gt;
        &lt;p class=&#34;gt_footnote&#34;&gt;
          &lt;sup class=&#34;gt_footnote_marks&#34;&gt;
            &lt;em&gt;1&lt;/em&gt;
          &lt;/sup&gt;
           
          Includes all formulations with the active ingredient
          &lt;br /&gt;
        &lt;/p&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;This table adds a couple new elements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Years are a stubhead, which is sort of equivalent to transitioning a column to a rowname in a table. In order to transition a column to a stubhead you must specify the column in the initial &lt;code&gt;gt()&lt;/code&gt; call. In other words, I don’t &lt;em&gt;believe&lt;/em&gt; you can make a column into stubhead by adding another layer to your table.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Column spanners ‘Fertilizer’ and ‘Herbicide’ now label multiple column names.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The numbers in this table suggest that both N &amp;amp; P fertilizer use hasn’t changed much since 1990. This checks out with our initial observation. However there are changes in herbicide usage (mostly because I picked herbicides that I know have changed usage over the years..). Glyphosate use went from 0 lbs in 1990 to over 10 million pounds in 2014. This mirrors the release of ‘Round-up Ready’ corn in 1996-ish (glyphosate is the active killing ingredient in Round-Up) and its widespread adoption. Dicamba (which again is merely the active killing ingredient) is not a new herbicide, but it has gotten renewed press and scrutiny since it has come back onto the market due to the proclivity of the herbicide to volatilize, drift, and damage surrounding crop fields. News stories &lt;a href=&#34;https://www.nytimes.com/2017/09/21/business/monsanto-dicamba-weed-killer.html&#34;&gt;here&lt;/a&gt; and &lt;a href=&#34;https://www.npr.org/sections/thesalt/2019/07/19/742836972/rogue-weedkiller-vapors-are-threatening-soybean-science&#34;&gt;here&lt;/a&gt;. This table doesn’t show the type of Dicamba use trend I predicted, but, importantly, I lumped all the herbicides together that use Glyphosate or Dicamba as their active ingredient (peep that footnote). There are actually a myriad of formulations that have been developed over the years that use these active ingredients. The logical next step is a table with all the different formulations separated…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;chem_subset2 &amp;lt;-   
  chem_apps %&amp;gt;%
  filter(str_detect(name, &amp;quot;^DICAMBA&amp;quot;)|str_detect(name, &amp;quot;^GLYPHOSATE&amp;quot;)) %&amp;gt;%
  filter(param == &amp;quot;LB&amp;quot;) %&amp;gt;%
  pivot_wider(id_cols = Year, 
              names_from = name, 
              values_from = Value) %&amp;gt;%
  janitor::remove_empty(which = &amp;quot;cols&amp;quot;) %&amp;gt;%
  replace(., is.na(.), 0)

chem_subset2 %&amp;gt;%
  gt(rowname_col = &amp;quot;Year&amp;quot;) %&amp;gt;%
  tab_header(title    = md(&amp;quot;**Herbicide Use on Cornfields in Iowa**&amp;quot;), 
             subtitle = &amp;quot;Total pounds of applied herbicide&amp;quot;)%&amp;gt;%
  tab_stubhead(label = &amp;quot;Year&amp;quot;) %&amp;gt;%
  cols_move(columns = c(&amp;quot;DICAMBA, DIMET. SALT = 29802&amp;quot;,
                        &amp;quot;DICAMBA, POT. SALT = 129043&amp;quot;),
            after   = &amp;quot;DICAMBA, SODIUM SALT = 29806&amp;quot;) %&amp;gt;%
  fmt_number(columns = everything(), 
             use_seps = TRUE,
             decimals = 0) %&amp;gt;%
  tab_spanner(label = md(&amp;quot;**DICAMBA**&amp;quot;), columns = c(&amp;quot;DICAMBA = 29801&amp;quot;,
                                             &amp;quot;DICAMBA, DIGLY. SALT = 128931&amp;quot;,
                                             &amp;quot;DICAMBA, SODIUM SALT = 29806&amp;quot;, 
                                             &amp;quot;DICAMBA, DIMET. SALT = 29802&amp;quot;,  
                                             &amp;quot;DICAMBA, POT. SALT = 129043&amp;quot;)) %&amp;gt;%
  tab_spanner(label = md(&amp;quot;**GLYPHOSATE**&amp;quot;), columns = c(&amp;quot;GLYPHOSATE = 417300&amp;quot;,
                                                &amp;quot;GLYPHOSATE DIM. SALT = 103608&amp;quot;,
                                                &amp;quot;GLYPHOSATE ISO. SALT = 103601&amp;quot;,
                                                &amp;quot;GLYPHOSATE POT. SALT = 103613&amp;quot;))%&amp;gt;%
  tab_source_note(source_note = &amp;quot;Source: USDA NASS&amp;quot;) %&amp;gt;%
# adding color to certain cells!  
  tab_style(style = list(
                      cell_fill(color = &amp;quot;darkgreen&amp;quot;),
                      cell_text(color = &amp;quot;white&amp;quot;)),
            locations = cells_body(columns = &amp;quot;DICAMBA, DIGLY. SALT = 128931&amp;quot;,
                                   rows    = Year == 2018)) %&amp;gt;%
  tab_style(style = list(
                      cell_fill(color = &amp;quot;darkred&amp;quot;),
                      cell_text(color = &amp;quot;white&amp;quot;)),
            locations = cells_body(columns = &amp;quot;DICAMBA = 29801&amp;quot;,
                                   rows    = Year &amp;lt; 2005 &amp;amp; Year &amp;gt; 1989)) %&amp;gt;%
  opt_row_striping(row_striping = FALSE)&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#wrukxvmmzq .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#wrukxvmmzq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wrukxvmmzq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#wrukxvmmzq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#wrukxvmmzq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wrukxvmmzq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#wrukxvmmzq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#wrukxvmmzq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#wrukxvmmzq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#wrukxvmmzq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#wrukxvmmzq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#wrukxvmmzq .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#wrukxvmmzq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#wrukxvmmzq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#wrukxvmmzq .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#wrukxvmmzq .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#wrukxvmmzq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#wrukxvmmzq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#wrukxvmmzq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wrukxvmmzq .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#wrukxvmmzq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#wrukxvmmzq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#wrukxvmmzq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#wrukxvmmzq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wrukxvmmzq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#wrukxvmmzq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#wrukxvmmzq .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#wrukxvmmzq .gt_left {
  text-align: left;
}

#wrukxvmmzq .gt_center {
  text-align: center;
}

#wrukxvmmzq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#wrukxvmmzq .gt_font_normal {
  font-weight: normal;
}

#wrukxvmmzq .gt_font_bold {
  font-weight: bold;
}

#wrukxvmmzq .gt_font_italic {
  font-style: italic;
}

#wrukxvmmzq .gt_super {
  font-size: 65%;
}

#wrukxvmmzq .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;wrukxvmmzq&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;10&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;&lt;strong&gt;Herbicide Use on Cornfields in Iowa&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;10&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;Total pounds of applied herbicide&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;2&#34; colspan=&#34;1&#34;&gt;Year&lt;/th&gt;
      &lt;th class=&#34;gt_center gt_columns_top_border gt_column_spanner_outer&#34; rowspan=&#34;1&#34; colspan=&#34;5&#34;&gt;
        &lt;span class=&#34;gt_column_spanner&#34;&gt;&lt;strong&gt;DICAMBA&lt;/strong&gt;&lt;/span&gt;
      &lt;/th&gt;
      &lt;th class=&#34;gt_center gt_columns_top_border gt_column_spanner_outer&#34; rowspan=&#34;1&#34; colspan=&#34;4&#34;&gt;
        &lt;span class=&#34;gt_column_spanner&#34;&gt;&lt;strong&gt;GLYPHOSATE&lt;/strong&gt;&lt;/span&gt;
      &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;DICAMBA = 29801&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;DICAMBA, DIGLY. SALT = 128931&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;DICAMBA, SODIUM SALT = 29806&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;DICAMBA, DIMET. SALT = 29802&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;DICAMBA, POT. SALT = 129043&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;GLYPHOSATE = 417300&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;GLYPHOSATE DIM. SALT = 103608&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;GLYPHOSATE ISO. SALT = 103601&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_center&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;GLYPHOSATE POT. SALT = 103613&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2018&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34; style=&#34;background-color: #006400; color: white;&#34;&gt;227,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;96,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,831,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;727,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2,678,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;4,523,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2014&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;91,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,530,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;1,058,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;3,500,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;3,959,000&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2010&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;11,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;519,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;8,871,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2005&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;18,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;146,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;2,230,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34; style=&#34;background-color: #8B0000; color: white;&#34;&gt;540,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;23,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;425,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;479,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1995&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34; style=&#34;background-color: #8B0000; color: white;&#34;&gt;1,373,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;158,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1990&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34; style=&#34;background-color: #8B0000; color: white;&#34;&gt;833,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;0&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;10&#34;&gt;Source: USDA NASS&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  
&lt;/table&gt;&lt;/div&gt;
&lt;p&gt;Oy! This is getting messy now. I won’t pretend to understand the differences between these herbicide formulations. I did, however, find &lt;a href=&#34;https://www.uaex.edu/media-resources/news/november2016/11-21-2016-Ark-Dicamba-Primer.aspx&#34;&gt;this article&lt;/a&gt; helpful. As expected, one formulation of Dicamba (highlighted in dark red) has been phased out of usage, while another formulation (highlighted in dark green) has been phased in quite recently. The article I just linked confirms that the newer formulations of Dicamba (labeled commercially as “Clarity” or “Xtend”) have heavier salts added to them (“DIGLY. SALT” = diglycolamine salt) so that the herbicide doesn’t volatilize as easily and cause damage by drift. The point being - looking at formulations can be confusing and insightful. It also gave me a good excuse to try out highlighting different cells.&lt;/p&gt;
&lt;p&gt;Alright let’s wrap up this post by looking at some basic corn stats:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;acre_dat &amp;lt;- 
  read_csv(&amp;quot;acres_data.csv&amp;quot;) %&amp;gt;%
  select(Year, Period, `Data Item`, Value) %&amp;gt;%
  filter(Period == &amp;quot;YEAR&amp;quot; | Period == &amp;quot;MARKETING YEAR&amp;quot;) %&amp;gt;%
  pivot_wider(id_cols = Year, names_from = `Data Item`, values_from = Value) %&amp;gt;%
  janitor::clean_names()  # should have done this on the last dataset...

corn_url &amp;lt;- &amp;quot;https://www.netclipart.com/pp/m/7-70514_corn-clipart-single-vegetable-corn-clipart-png.png&amp;quot;

last_tab &amp;lt;- 
  gt(acre_dat, rowname_col = &amp;quot;year&amp;quot;) %&amp;gt;%
  cols_label(
    corn_grain_price_received_measured_in_bu = &amp;quot;Price&amp;quot;,
    corn_acres_planted = &amp;quot;Acres planted&amp;quot;,
    corn_grain_production_measured_in = &amp;quot;Total production&amp;quot;,
    corn_grain_yield_measured_in_bu_acre = &amp;quot;Yield (bu/acre)&amp;quot;
  ) %&amp;gt;%
  cols_move_to_end(columns = &amp;quot;corn_grain_price_received_measured_in_bu&amp;quot;) %&amp;gt;%
  tab_header(title = html(&amp;quot;&amp;lt;strong&amp;gt;Acreage, Yield, and Price of Iowa Corn&amp;lt;strong&amp;gt;&amp;quot;,
                          web_image(url = corn_url))) %&amp;gt;%
  tab_source_note(source_note = &amp;quot;Source: USDA NASS&amp;quot;) %&amp;gt;%
  tab_stubhead(label = &amp;quot;Year&amp;quot;) %&amp;gt;%
  tab_footnote(footnote = &amp;quot;per bushel (equivalent to 64 pints)&amp;quot;,
               locations = cells_column_labels(&amp;quot;corn_grain_price_received_measured_in_bu&amp;quot;)) %&amp;gt;%
  fmt_currency(columns = vars(corn_grain_price_received_measured_in_bu,
                              corn_grain_production_measured_in),
               currency = &amp;quot;USD&amp;quot;,
               decimals = 2) %&amp;gt;%
  fmt_number(columns = vars(corn_acres_planted),
             use_seps = TRUE,
             decimals = 0) %&amp;gt;%
  grand_summary_rows(columns = vars(corn_grain_price_received_measured_in_bu,
                                    corn_acres_planted,
                                    corn_grain_production_measured_in,
                                    corn_grain_yield_measured_in_bu_acre),
                     fns = list(Average = ~mean(.))) %&amp;gt;%
  opt_table_outline(style = &amp;quot;solid&amp;quot;, color = &amp;quot;darkgreen&amp;quot;) %&amp;gt;%
  opt_row_striping(row_striping = FALSE)

last_tab &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;style&gt;html {
  font-family: -apple-system, BlinkMacSystemFont, &#39;Segoe UI&#39;, Roboto, Oxygen, Ubuntu, Cantarell, &#39;Helvetica Neue&#39;, &#39;Fira Sans&#39;, &#39;Droid Sans&#39;, Arial, sans-serif;
}

#hhzfjsftmc .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: darkgreen;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: darkgreen;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: darkgreen;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: darkgreen;
}

#hhzfjsftmc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hhzfjsftmc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hhzfjsftmc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hhzfjsftmc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hhzfjsftmc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hhzfjsftmc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hhzfjsftmc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hhzfjsftmc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hhzfjsftmc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hhzfjsftmc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hhzfjsftmc .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hhzfjsftmc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hhzfjsftmc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hhzfjsftmc .gt_from_md &gt; :first-child {
  margin-top: 0;
}

#hhzfjsftmc .gt_from_md &gt; :last-child {
  margin-bottom: 0;
}

#hhzfjsftmc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hhzfjsftmc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hhzfjsftmc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hhzfjsftmc .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hhzfjsftmc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hhzfjsftmc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hhzfjsftmc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hhzfjsftmc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hhzfjsftmc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hhzfjsftmc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hhzfjsftmc .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hhzfjsftmc .gt_left {
  text-align: left;
}

#hhzfjsftmc .gt_center {
  text-align: center;
}

#hhzfjsftmc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hhzfjsftmc .gt_font_normal {
  font-weight: normal;
}

#hhzfjsftmc .gt_font_bold {
  font-weight: bold;
}

#hhzfjsftmc .gt_font_italic {
  font-style: italic;
}

#hhzfjsftmc .gt_super {
  font-size: 65%;
}

#hhzfjsftmc .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
&lt;/style&gt;
&lt;div id=&#34;hhzfjsftmc&#34; style=&#34;overflow-x:auto;overflow-y:auto;width:auto;height:auto;&#34;&gt;&lt;table class=&#34;gt_table&#34;&gt;
  &lt;thead class=&#34;gt_header&#34;&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;5&#34; class=&#34;gt_heading gt_title gt_font_normal&#34; style&gt;&lt;strong&gt;Acreage, Yield, and Price of Iowa Corn&lt;strong&gt; &lt;img src=&#34;https://www.netclipart.com/pp/m/7-70514_corn-clipart-single-vegetable-corn-clipart-png.png&#34; style=&#34;height:30px;&#34;&gt;&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th colspan=&#34;5&#34; class=&#34;gt_heading gt_subtitle gt_font_normal gt_bottom_border&#34; style&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;thead class=&#34;gt_col_headings&#34;&gt;
    &lt;tr&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_left&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Year&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Acres planted&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Total production&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Yield (bu/acre)&lt;/th&gt;
      &lt;th class=&#34;gt_col_heading gt_columns_bottom_border gt_right&#34; rowspan=&#34;1&#34; colspan=&#34;1&#34;&gt;Price&lt;sup class=&#34;gt_footnote_marks&#34;&gt;1&lt;/sup&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody class=&#34;gt_table_body&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2018&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;13,200,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$8,971,410,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;196&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$3.59&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2014&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;13,700,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$8,783,054,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;178&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$3.71&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2010&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;13,400,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$11,261,498,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;165&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$5.23&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2005&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;12,800,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$4,195,250,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;173&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$1.94&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;2000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;12,300,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$3,024,000,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;144&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$1.75&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1995&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;11,900,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$4,565,760,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;123&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$3.20&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_left gt_stub&#34;&gt;1990&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;12,800,000&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$3,452,904,000.00&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;126&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right&#34;&gt;$2.21&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_row gt_stub gt_right gt_grand_summary_row gt_first_grand_summary_row&#34;&gt;Average&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row&#34;&gt;12,871,428.57&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row&#34;&gt;6,321,982,285.71&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row&#34;&gt;157.86&lt;/td&gt;
      &lt;td class=&#34;gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row&#34;&gt;3.09&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
  &lt;tfoot class=&#34;gt_sourcenotes&#34;&gt;
    &lt;tr&gt;
      &lt;td class=&#34;gt_sourcenote&#34; colspan=&#34;5&#34;&gt;Source: USDA NASS&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
  &lt;tfoot&gt;
    &lt;tr class=&#34;gt_footnotes&#34;&gt;
      &lt;td colspan=&#34;5&#34;&gt;
        &lt;p class=&#34;gt_footnote&#34;&gt;
          &lt;sup class=&#34;gt_footnote_marks&#34;&gt;
            &lt;em&gt;1&lt;/em&gt;
          &lt;/sup&gt;
           
          per bushel (equivalent to 64 pints)
          &lt;br /&gt;
        &lt;/p&gt;
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tfoot&gt;
&lt;/table&gt;&lt;/div&gt;
New features in this table:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I added a darkgreen border to the whole table&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I added a grand summary line at the bottom that takes the average of all columns. I couldn’t figure out how to get some of the columns with dollar signs and some without…?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I added a tiny corn image to the title! Which looked great when I saved the table as png (as you can see from image in this post), but then gets all messed up when rendered via blogdown.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Btw, tables are pretty easy to save:
&lt;code&gt;# gtsave(last_tab, filename = &#34;corn_table.png&#34;)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Again, let’s just take a quick moment to look at these numbers. Corn acreage has increased since 1990, peaking in 2014. Prices per bushel and total production ($) are highest in 2010 (thanks renewable fuel standard!), so it makes sense we’d see a delayed boom in production acres in 2014. Yield continues to steadily increase.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Checking our palette for colorblindness</title>
      <link>/2020/03/25/checking-colorblindness/</link>
      <pubDate>Wed, 25 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/03/25/checking-colorblindness/</guid>
      <description>


&lt;p&gt;In my &lt;a href=&#34;/2020/03/16/a-prairie-color-palette/&#34;&gt;last post&lt;/a&gt;, I had some fun and made prototypes of color palettes based on off prairie plants. If I ever get around to making these color palettes into something more, like a package, I’d want to ensure they are color-blind friendly.&lt;/p&gt;
&lt;p&gt;This led me to try out Claire McWhite and Claus Wilke’s &lt;a href=&#34;https://github.com/clauswilke/colorblindr&#34;&gt;package&lt;/a&gt; &lt;code&gt;colorblindr&lt;/code&gt; on my palettes. One of the functionalities of &lt;code&gt;colorblindr&lt;/code&gt; is that it can display plots as they would appear to a colorblind person. The package wasn’t on CRAN at the time of this posting, but you can download it from github &lt;em&gt;(FYI at the time of this posting I couldn’t get the package to download on my computer (?? idk) so I cloned it from github and built it on my own device)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;For the sake of this blog post I wanted to view my original palette next to the colorblind version of the palette. I focused my efforts on making sure my palettes would work for red-green colorblindness (Protanopia/Deuteranopia) since those seem to be the most common forms of colorblindness. Therefore I edited the &lt;code&gt;cvd_grid&lt;/code&gt; function to only display those two grids.&lt;/p&gt;
&lt;div id=&#34;heres-how-my-color-palettes-look&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Here’s how my color palettes look:&lt;/h4&gt;
&lt;p&gt;These first two palettes, which are based off of plants in the bean family and are more discrete in nature seem to be OK for colorblind folks. Cool!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;
This butterfly milkweed inspired palette is less than optimal in colorblind vision. The light green and light orange seems problematic - it shall be altered!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As a sequential palette, the showy milkweed seems OK! The light pinks are a little hard to differentiate, but they are also kind of hard to differentiate for a non-color blind person.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;This sweet cone-flower palette was originally my favorite, but similar to the butterfly milkweed palette above, the light orange and green are hard to differentiate. Perhaps I’ll make this a discrete palette instead of sequential…&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;While I love the idea of there being a sunflower palette, I’m not sure if this works. Also, yellow doesn’t usually show up well on project screens, especially on a white background.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Surprisingly the first of the grass palettes looks decent.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I had no hopes for this palette since it is based on red and green. It’s honestly better than I was expecting but still not good enough to export into a package. Oh well!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/color_blind_check/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Using &lt;code&gt;colorblindr&lt;/code&gt; has given me some good insight into which colors don’t work well in the same palette (mostly oranges and greens). As I move forward with this project and create any new palettes I’ll make sure to continue to use it.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>A prairie color palette</title>
      <link>/2020/03/16/a-prairie-color-palette/</link>
      <pubDate>Mon, 16 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/03/16/a-prairie-color-palette/</guid>
      <description>


&lt;p&gt;I’ve been inspired by other R packages that have created color palettes &lt;a href=&#34;https://nschiett.github.io/fishualize/index.html&#34;&gt;based on living organisms&lt;/a&gt;. Naturally I decided to try to make a color palette using prairie species. I want to note right away that I didn’t do anything fancy when choosing colors. I merely used the &lt;a href=&#34;http://instant-eyedropper.com/&#34;&gt;instant eyedropped&lt;/a&gt; tool to hover over different pixels in my photos and wrote down the hex codes. Obviously colors will vary based on lighting and shading. I had to be a little arbitrary in picking the essential pixel shades. Most of these photos can be found in my &lt;a href=&#34;/gallery/&#34;&gt;gallery&lt;/a&gt;. If a photo is taken from somewhere else (i.e. is not my own) then I’ve noted it as such.&lt;/p&gt;
&lt;p&gt;For all the botany nerds out there I’ve decided to grab colors from two species in 4 different families. There are obviously WAY too many beautiful flowers to choose from. This is merely a starting point.&lt;/p&gt;
&lt;div id=&#34;i.-the-bean-family-fabaceae&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;i. The bean family (Fabaceae)&lt;/h4&gt;
&lt;p&gt;I started with Purple Prairie Clover (&lt;em&gt;Dalea purpurea&lt;/em&gt;), which was an obvious choice for me since it has a lovely contrasting purple/orange color profile.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I moved onto Leadplant (&lt;em&gt;Amorpha canescens&lt;/em&gt;) which has a similar color palette to purple prairie clover. Predominantly purple flowers with orange anthers. However, leadplant also has beautiful red stamens and the overall color of the plant is a lovely gray-green. It is one of my favorite plants.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ii.-the-milkweed-family-asclepiadaceae&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;ii. The milkweed family (Asclepiadaceae)&lt;/h4&gt;
&lt;p&gt;Milkweeds are becoming increasingly popular in prairie restorations due to the fact that they provide essential forage and habitat for Monarch butterfly larvae.
Butterfly milkweed (&lt;em&gt;Asclepias tuberosa&lt;/em&gt;) is one of the few orange prairie flowers. I was actually able to grab a lot of colors from this photo since, for instance, the budding flowers have a nice coral hue and the inner flower structure is creamy yellow. This palette is also a lot louder than the other two - hello bright and beautiful orange!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;I thought I should do another milkweed, so I chose showy milkweed, which has a more color palette that is more similar to the common milkweed we all know. Showy milkweed is just more, well, showy than the common variety.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;iii.-the-daisy-family-asteraceae&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;iii. The daisy family (Asteraceae)&lt;/h4&gt;
&lt;p&gt;I knew I had to make some color palettes from species in the Asteraceae (Daisy) family. After all the Asteraceae is a HUGE plant family. I started with sweet coneflower (&lt;em&gt;Rudbeckia subtermosa&lt;/em&gt;), which is related to brown- and black-eyed Susan. I love the brownish red color of the inner disk florets.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The other asteraceae flower I chose was Rosinweed (&lt;em&gt;Silphium integrefolium&lt;/em&gt;) which has a more traditional sunflower appearance (although it is &lt;em&gt;not&lt;/em&gt; in the sunflower genus &lt;em&gt;Helianthus&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;iv.-the-grass-family-poaceae&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;iv. The grass family (Poaceae)&lt;/h4&gt;
&lt;p&gt;Grasses flower too!&lt;/p&gt;
&lt;p&gt;Big bluestem is arguably the most quintessential of the prairie plants. It’s one of the plants that gave the tallgrass prairie the “tall” part of its name. It easily dwarfs me (a meager 5ft I might add) by mid summer. It’s also commonly called “turkey foot” because of the way its inflorescences are structured. The inflorescences are a maroon-purple color and anthers are both orange and yellow. There is also orange on the stem, often near the nodes. I found it interesting that this color palette is similar to Sweet Coneflower’s but is just naturally more muted.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-7-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Side oats grama grass (&lt;em&gt;Bouteloua curtipendula&lt;/em&gt; - one of the funner scientific names to pronounce I may add) is a shorter grass species that has a lovely spike of florets that hang down along one axis. I haven’t gotten a good photo of side oats while it’s flowering so I snagged a photo from Prairie Moon Nursery’s &lt;a href=&#34;https://www.prairiemoon.com/bouteloua-curtipendula-side-oats-grama-prairie-moon-nursery.html&#34;&gt;website&lt;/a&gt;. When flowering, side oats has some beautifully red anthers and pollen.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/prairie_colors/index_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;next-steps&#34; class=&#34;section level4&#34;&gt;
&lt;h4&gt;Next steps:&lt;/h4&gt;
&lt;p&gt;This is all well &amp;amp; good and has been fun for me BUT it’s important to note there are some things I haven’t done that seem like good ideas to continue this project…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check for color blindness. The side oats palette especially (red! green!) seems like it wouldn’t be appropriate for multiple forms of colorblindness but I need to run my colors through a check to be sure of which color combinations are robust or not.&lt;/li&gt;
&lt;li&gt;Create qualitative, sequential, diverging, and accent scales. Some of these palettes already would function well in that regard, but I need to make a more concerted effort to ensure every type of color palette is available to the user.&lt;/li&gt;
&lt;li&gt;Put these colors into an R package so others can easily use them! I’m open to name suggestions…&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>
